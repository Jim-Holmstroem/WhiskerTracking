% TODO
% \section{Invariances}
% Section about invariances and why they are needed in localization.

% The "filter" must give the same response invariant of the position
% in the image and its often wanted to have it rotational and scale
% invariant (if your not intending to measure things like angles or
% size that is)

\section{Images and videos}
\subsection{Grayscale image}
\begin{definition}

  A grayscale \emph{image} can be defined as a function
  \begin{equation}
    \begin{array}{ccc}
      I : \NN^2 &\rightarrow& \RR^+\\
      I : \text{position}&\rightarrow&\text{intensity}.
    \end{array}
  \end{equation}
  It can also be identified with $\NN^2\times \RR^+$ as the tuple
  $\langle \text{position}, \text{intensity}\rangle$. The \emph{image
    space} is denoted as $\IS$ in this thesis.

  In a computer an image is represented as a integer matrix, often 8
  bit integers.\footnote{Integers in the range $\interval{0}{255}$.}
\end{definition}

% \subsubsection{Color image}
%A color image, can similary to grayscale images, be defined as
% \begin{equation}
%    \begin{array}{ccc}
%    RGBimage : \NN^2 &\rightarrow& \NN^3\\
%    RGBimage : position&\rightarrow&color
%    \end{array}
%\end{equation}
%Which basically is foreach position in the image we have a response
% color.  An alternitve represenation whould be $\NN^5=\langle
% pos,value\rangle$.
%
%The RGB image space is denoted by
%\begin{equation}
%    RGBimage\in \IS_{RGB}
%\end{equation}

\begin{example}~\\
  \begin{tabular}{lcr}
    $
    \begin{pmatrix} 
      255&  255&  255&  255&  255&  255&  255&  255&  255&  255\\
      255&  255&  255&  255&  255&  255&  255&  255&  255&  255\\
      255&  255&  255&    0&  255&  255&    0&  255&  255&  255\\
      255&  255&  255&    0&  255&  255&    0&  255&  255&  255\\
      255&  255&  255&  255&  255&  255&  255&  255&  255&  255\\
      255&    0&  255&  255&  255&  255&  255&  255&    0&  255\\
      255&  255&    0&  255&  255&  255&  255&    0&  255&  255\\
      255&  255&  255&    0&    0&    0&    0&  255&  255&  255\\
      255&  255&  255&  255&  255&  255&  255&  255&  255&  255\\
      255&  255&  255&  255&  255&  255&  255&  255&  255&  255
    \end{pmatrix}$
    &$\Rightarrow$& \parbox[c]{1em}{\includegraphics[scale=10.0]{smiley.png}}
    \end{tabular}
\end{example}

\subsection{Video}
\begin{definition}
  A \emph{video} is a function mapping an integer to an image:
  \begin{equation}
    \text{video} : \NN \rightarrow \IS.
  \end{equation}
\end{definition}

\section{Image Processing}

\begin{definition}
  The rendering function $R$ takes a hypothesis $x$ and renders an
  image with a resemblance of how a real whisker would have looked
  like having the same underlying model and parameters as $x$.
  \begin{equation}
    \begin{split}
      R : \XS &\rightarrow \IS\\
      x &\mapsto \text{Render}(x)
    \end{split}
  \end{equation}
\end{definition}

\begin{definition}
  The addition operation on images is performed by elementwise
  addition.
  \begin{equation}
    \begin{split}
      + : \IS \times \IS &\rightarrow \IS\\
      (I_a,I_b) &\mapsto I_a+I_b
    \end{split}
  \end{equation}
\end{definition}

\begin{definition}
  The multiplication operation on images is element-wise
  multiplication.
  \begin{equation}
    \begin{split}
      * : \IS \times \IS &\rightarrow \IS\\
      (I_a,I_b) &\mapsto I_a*I_b
    \end{split}
  \end{equation}
\end{definition}

\begin{definition}
  The image transformation $\phi$ takes an image $I$ and returns a
  transformed image of the same size as $I$.
  \begin{equation}
    \begin{split}
      \phi : \IS &\rightarrow \IS\\
      I &\mapsto \text{Transform}(I)
    \end{split}
  \end{equation}
\end{definition}

The structure $\langle \IS,+,*\rangle$ inherites the properties from
$\langle \RR^+,+,*\rangle$ by just being a vectorized version.

\begin{definition}
  We will use subtraction loosely\footnote{Meaning, no analysis on the
    structure is done.} as elementwise subtraction and then subtract
  the smallest element on all elements to make the operation closed.
  \begin{equation}
    \begin{split}
      - : \IS \times \IS &\rightarrow \IS\\
      (I_a,I_b) &\mapsto I_a-I_b
    \end{split}
  \end{equation}
\end{definition}

\begin{definition}
  The image transformation $\phi$ takes an image $I$ and returns a
  transformed image.
  \begin{equation}
    \begin{split}
      \phi : \IS &\rightarrow \IS\\
      I &\mapsto \text{Transform}(I)
    \end{split}
  \end{equation}
\end{definition}

\section{States, hypotheses and estimates}
A system is said to have a \emph{state}. The state is some quantity
that defines the qualities of the system.

\begin{description}
\item[State] The state of a system is denoted $Z$. When time is
  relevant, the state at time $t$ is denoted $Z_t$.
\item[State space] The set $\ZS$ of all possible states, $Z \in \ZS$.
\item[Hypothesis] A guess $x$ at the state $Z$ of a system.
\item[Hypothesis space] The set $\XS$ of all possible hypotheses, $x
  \in \XS$. In general, $\XS \neq \ZS$ since most models are
  simplifications of the system.
\item[Estimate] The hypothesis $x^*$ we believe approximates $Z$ best.
\item[Observation] In general, it is not possible to directly record
  the state $Z$ of a system.\footnote{If it were, there would be no
    need for tracking.} We instead get an \emph{observation} $I$ of
  the state.
\item[Degrees of Freedom] The number of adjustable parameters in a
  model, often abbreviated DOF.
\end{description}

Note that all of the above depend on the  model used.

%\subsection{Prob. function as a collection of points with attached weight.}
%
%\subsection{Dynamic system}
%    It's a tuple <space,update,time>
%    Any mechanical system following newton physics (or relativistic for that matter) can be considered to be an dynamic system
%    in our case the tuple whould be <feature\_space,update\_rule (the one we are trying to preprocess data to approximate),time>

